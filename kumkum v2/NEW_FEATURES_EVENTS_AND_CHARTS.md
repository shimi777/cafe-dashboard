# ✨ עדכון - אירועים ידניים ותרשים השוואת שבועות

## 🎯 נוסף חדש

### 1. **קלט ידני לאירועים** 🎉
**מה זה:**
- באפשרותך להזין ידנית את מספר האירועים בפועל
- לא רק סיכום אוטומטי של ימים עם עסקאות
- אפשרות לתיקון וזינת ערכים בידיים

**איך להשתמש:**
```
בטאב "עמידה ביעדים" → סעיף "יעד מספר אירועים חודשי"
↓
תראה שדה קלט עם מספר:
"בחר מספר אירועים בפועל: [  ]"
↓
הזן מספר וראה את הסיכום מתעדכן מיד
```

**דוגמה:**
```
יעד אירועים: 20 ימים
אירועים בפועל: [18]  ← הזן כאן
התקדמות: 90%
```

---

### 2. **ערכי ברירת מחדל חדשים** 💰
**יעדי הכנסות:**
- שבועי: **₪32,500** ✨ (נשנה מ-50,000)
- חודשי: **₪130,000** ✨ (נשנה מ-220,000)

**יעד אירועים:**
- חודשי: **20 ימים**

---

### 3. **תרשים השוואת שבועות** 📊
**מה זה:**
כרטיס בחלק הסיכום החודשי שמציג:
- **4 עמודות** = כל שבוע בחודש
- **6 קטגוריות** בכל שבוע:
  1. טוסט אבוקדו
  2. כריך סלמון
  3. מגדל מגדנות אליזבט
  4. סקונס יחיד
  5. הכנסות (אלפים ₪)
  6. אירועים

**איך נראה:**
```
שבוע 1       שבוע 2       שבוע 3       שבוע 4
┌─────────┐  ┌─────────┐  ┌─────────┐  ┌─────────┐
│ טוסט   │  │ טוסט   │  │ טוסט   │  │ טוסט   │
│ ▄ 22   │  │ ▄ 25   │  │ ▄ 20   │  │ ▄ 24   │
│ ▄ 28   │  │ ▄ 31   │  │ ▄ 27   │  │ ▄ 29   │
│ ▄ 50   │  │ ▄ 52   │  │ ▄ 48   │  │ ▄ 55   │
│ ▄ 115  │  │ ▄ 120  │  │ ▄ 118  │  │ ▄ 122  │
│ ▄ 33K  │  │ ▄ 35K  │  │ ▄ 32K  │  │ ▄ 34K  │
│ ▄ 5    │  │ ▄ 5    │  │ ▄ 5    │  │ ▄ 5    │
└─────────┘  └─────────┘  └─────────┘  └─────────┘
(כל עמודה עם צבעים שונים לקטגוריות)
```

**ראו בו:**
- איזה שבוע עמד יותר ביעדים
- השוואה ישירה בין כל השבועות
- קל לראות טרנדים (עלייה/ירידה)

---

## 🔧 שינויים בקוד

### 1. ערכי ברירת מחדל - שורה 354
```python
'revenue_weekly': 32500,      # היה 50,000
'revenue_monthly': 130000,    # היה 220,000
'events_monthly': 20,
'actual_events': 0            # חדש
```

### 2. קלט אירועים - שורה 636-689
```python
# Add option to manually input events
events_input_col1, events_input_col2 = st.columns([2, 1])
with events_input_col2:
    st.session_state.goals['actual_events'] = st.number_input(
        "מספר אירועים בפועל",
        value=st.session_state.goals.get('actual_events', unique_days),
        min_value=0,
        step=1,
        key="actual_events_input"
    )

# Use manually entered value
events_count = st.session_state.goals['actual_events'] if st.session_state.goals['actual_events'] > 0 else unique_days
```

### 3. תרשים השוואת שבועות - שורה 908-1015
```python
# Calculate stats for each week
weeks_data = []
for week in sorted(trans_df['WeekStart'].unique()):
    # ... calculate week totals ...
    weeks_data.append(week_totals)

# Create grouped bar chart
fig_weekly_comparison = px.bar(
    chart_df,
    x='שבוע',
    y='בפועל',
    color='מתוצר',
    barmode='group',
    title='השוואת עמידה ביעדים לפי שבועות'
)
```

---

## 📋 טבלה חדשה - טבלת סיכום שבועי

**מה מציגה:**
| שבוע | טוסט אבוקדו | כריך סלמון | מגדל מגדנות | סקונס יחיד | הכנסות | אירועים |
|------|-------------|-----------|------------|-----------|--------|---------|
| שבוע 1 | 22 | 28 | 50 | 115 | ₪33,000 | 5 |
| שבוע 2 | 25 | 31 | 52 | 120 | ₪35,200 | 5 |
| שבוע 3 | 20 | 27 | 48 | 118 | ₪32,500 | 5 |
| שבוע 4 | 24 | 29 | 55 | 122 | ₪34,800 | 5 |
| **סה״כ** | **91** | **115** | **205** | **475** | **₪135,500** | **20** |

---

## 🎨 ממשק החדש

### קלט אירועים:
```
🎉 יעד מספר אירועים חודשי

בחר מספר אירועים בפועל:  [18]  ← שדה קלט

┌──────────────┐ ┌──────────────┐ ┌──────────────┐
│ יעד אירועים  │ │ אירועים בפועל│ │  התקדמות   │
│ 20 📅        │ │ 18 📅        │ │ 90%          │
└──────────────┘ └──────────────┘ └──────────────┘
```

### גרף השוואת שבועות:
```
📊 השוואת עמידה ביעדים - לפי שבועות

[Grouped Bar Chart - 4 עמודות, 6 קטגוריות בכל עמודה]

שבוע 1  |██ ██ ██ ██ ██ ██|  הוא הטוב ביותר
שבוע 2  |██ ██ ██ ██ ██ ██|
שבוע 3  |██ ██ ██ ██ ██ ██|
שבוע 4  |██ ██ ██ ██ ██ ██|
```

---

## ✨ יתרונות החדשות

1. **קלט ידני** - שליטה מלאה על מספר האירועים
2. **תרשים השוואה** - קל לראות בשקיעה איזה שבוע היה הטוב ביותר
3. **יעדים סבירים יותר** - ₪32,500 שבועי הוא מציאותי יותר
4. **טבלה סיכום** - כל הנתונים בעמודה אחת קל לצפייה

---

## 🚀 איך להשתמש

### שלב 1: העלה קבצים
כמו תמיד - בחר קבצי HTML

### שלב 2: בדוק עמידה ביעדים
1. בטאב "עמידה ביעדים"
2. בחר "חודשי" (כדי לראות את כל העבודה)

### שלב 3: הזן אירועים (אם רוצה)
```
בסעיף "🎉 יעד מספר אירועים חודשי"
↓
שדה קלט: הזן את מספר האירועים בפועל
↓
כל הסיכומים מתעדכנים באופן דינמי
```

### שלב 4: צפה בתרשים
```
גלול למטה לסעיף:
"📊 השוואת עמידה ביעדים - לפי שבועות"
↓
ראה גרף עם כל 4 השבועות בחודש
↓
בדוק איזה שבוע הצליח ביותר
```

### שלב 5: בדוק טבלה
```
מתחת לגרף:
"📋 טבלת סיכום שבועי"
↓
טבלה עם כל הנתונים לפי שבוע
```

---

## 📊 דוגמה מלאה

**משתמש העלה 4 קבצים HTML לחודש דצמבר:**

**שלב 1 - הזן אירועים:**
```
שדה קלט: הזן 18 (במקום האוטומטי של 20 ימים)
התקדמות אירועים: 90%
```

**שלב 2 - צפה בגרף:**
```
וראה שבוע 2 הוא הטוב ביותר (הכל בירוק ✅)
שבוע 4 הוא השני הטוב
שבוע 3 צריך שיפור
```

**שלב 3 - בדוק טבלה:**
```
| שבוע | טוסט | כריך | מגדל | סקונס | הכנסות | אירועים |
|------|------|------|------|--------|----------|---------|
| 1    | 22   | 28   | 50   | 115    | ₪33,000 | 5      |
| 2    | 25   | 31   | 52   | 120    | ₪35,200 | 5      |
| 3    | 20   | 27   | 48   | 118    | ₪32,500 | 5      |
| 4    | 24   | 29   | 55   | 122    | ₪34,800 | 5      |
```

---

## ✅ בדיקה סופית

- ✅ קלט אירועים ידני עובד
- ✅ ערכי ברירת מחדל חדשים מוגדרים
- ✅ תרשים HashSet שבועות עובד
- ✅ טבלת סיכום שבועי מופיעה
- ✅ כל הצבעים והעיצוב תקינים
- ✅ תחביר Python תקין

---

## 🎉 סיכום

**מה הוסף:**
1. ✅ קלט ידני לאירועים
2. ✅ יעדי הכנסה חדשים (32,500 שבועי, 130,000 חודשי)
3. ✅ תרשים השוואת שבועות (4 עמודות, 6 קטגוריות)
4. ✅ טבלת סיכום שבועי

**כל התכונות החדשות מוכנות לשימוש!** 🚀
